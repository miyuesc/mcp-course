# MCP SDK

æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ä¸º JavaScriptã€Python å’Œå…¶ä»–è¯­è¨€æä¾›äº†å®˜æ–¹ SDKã€‚è¿™ä½¿å¾—åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å®ç° MCP å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å˜å¾—å®¹æ˜“ã€‚è¿™äº› SDK å¤„ç†ä½çº§åè®®ç»†èŠ‚ï¼Œè®©æ‚¨ä¸“æ³¨äºæ„å»ºåº”ç”¨ç¨‹åºçš„èƒ½åŠ›ã€‚

## SDK æ¦‚è¿°

ä¸¤ä¸ª SDK éƒ½æä¾›ç±»ä¼¼çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œéµå¾ªæˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„ MCP åè®®è§„èŒƒã€‚å®ƒä»¬å¤„ç†ï¼š

- åè®®çº§é€šä¿¡
- èƒ½åŠ›æ³¨å†Œå’Œå‘ç°
- æ¶ˆæ¯åºåˆ—åŒ–/ååºåˆ—åŒ–
- è¿æ¥ç®¡ç†
- é”™è¯¯å¤„ç†

## æ ¸å¿ƒåŸè¯­å®ç°

è®©æˆ‘ä»¬æ¢ç´¢å¦‚ä½•ä½¿ç”¨ä¸¤ä¸ª SDK å®ç°æ¯ä¸ªæ ¸å¿ƒåŸè¯­ï¼ˆå·¥å…·ã€èµ„æºå’Œæç¤ºï¼‰ã€‚

<hfoptions id="server-implementation">
<hfoption id="python">

<Youtube id="exzrb5QNUis" />

```python
from mcp.server.fastmcp import FastMCP

# åˆ›å»º MCP æœåŠ¡å™¨
mcp = FastMCP("Weather Service")

# å·¥å…·å®ç°
@mcp.tool()
def get_weather(location: str) -> str:
    """è·å–æŒ‡å®šä½ç½®çš„å½“å‰å¤©æ°”ã€‚"""
    return f"Weather in {location}: Sunny, 72Â°F"

# èµ„æºå®ç°
@mcp.resource("weather://{location}")
def weather_resource(location: str) -> str:
    """å°†å¤©æ°”æ•°æ®ä½œä¸ºèµ„æºæä¾›ã€‚"""
    return f"Weather data for {location}: Sunny, 72Â°F"

# æç¤ºå®ç°
@mcp.prompt()
def weather_report(location: str) -> str:
    """åˆ›å»ºå¤©æ°”æŠ¥å‘Šæç¤ºã€‚"""
    return f"""æ‚¨æ˜¯ä¸€åå¤©æ°”æ’­æŠ¥å‘˜ã€‚{location} çš„å¤©æ°”æŠ¥å‘Šï¼Ÿ"""


# è¿è¡ŒæœåŠ¡å™¨
if __name__ == "__main__":
    mcp.run()

```

</hfoption>
<hfoption id="javascript">

```javascript
import { McpServer, ResourceTemplate } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";

// åˆ›å»º MCP æœåŠ¡å™¨
const server = new McpServer({
    name: "Weather Service",
    version: "1.0.0"
});

// å·¥å…·å®ç°
server.tool("get_weather",
    { location: z.string() },
    async ({ location }) => ({
        content: [{
            type: "text",
            text: `Weather in ${location}: Sunny, 72Â°F`
        }]
    })
);

// èµ„æºå®ç°
server.resource(
    "weather",
    new ResourceTemplate("weather://{location}", { list: undefined }),
    async (uri, { location }) => ({
        contents: [{
            uri: uri.href,
            text: `Weather data for ${location}: Sunny, 72Â°F`
        }]
    })
);

// æç¤ºå®ç°
server.prompt(
    "weather_report",
    { location: z.string() },
    async ({ location }) => ({
        messages: [
            {
                role: "assistant",
                content: {
                    type: "text",
                    text: "æ‚¨æ˜¯ä¸€åå¤©æ°”æ’­æŠ¥å‘˜ã€‚"
                }
            },
            {
                role: "user",
                content: {
                    type: "text",
                    text: `${location} çš„å¤©æ°”æŠ¥å‘Šï¼Ÿ`
                }
            }
        ]
    })
);

// è¿è¡ŒæœåŠ¡å™¨
const transport = new StdioServerTransport();
await server.connect(transport);
```

</hfoption>
</hfoptions>

ä¸€æ—¦æ‚¨å®ç°äº†æœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡ŒæœåŠ¡å™¨è„šæœ¬æ¥å¯åŠ¨å®ƒã€‚

```bash
mcp dev server.py
```

è¿™å°†åˆå§‹åŒ–è¿è¡Œæ–‡ä»¶ `server.py` çš„å¼€å‘æœåŠ¡å™¨ã€‚å¹¶è®°å½•ä»¥ä¸‹è¾“å‡ºï¼š

```bash
Starting MCP inspector...
âš™ï¸ Proxy server listening on port 6277
Spawned stdio transport
Connected MCP client to backing server transport
Created web app transport
Set up MCP proxy
ğŸ” MCP Inspector is up and running at http://127.0.0.1:6274 ğŸš€
```

ç„¶åæ‚¨å¯ä»¥åœ¨ [http://127.0.0.1:6274](http://127.0.0.1:6274) æ‰“å¼€ MCP Inspector æ¥æŸ¥çœ‹æœåŠ¡å™¨çš„èƒ½åŠ›å¹¶ä¸å®ƒä»¬äº¤äº’ã€‚

æ‚¨å°†çœ‹åˆ°æœåŠ¡å™¨çš„èƒ½åŠ›ä»¥åŠé€šè¿‡ UI è°ƒç”¨å®ƒä»¬çš„èƒ½åŠ›ã€‚

![MCP Inspector](https://huggingface.co/datasets/mcp-course/images/resolve/main/unit1/6.png)

## MCP SDK

MCP è®¾è®¡ä¸ºè¯­è¨€æ— å…³çš„ï¼Œæœ‰å‡ ç§æµè¡Œç¼–ç¨‹è¯­è¨€çš„å®˜æ–¹ SDK å¯ç”¨ï¼š

| è¯­è¨€ | ä»“åº“ | ç»´æŠ¤è€… | çŠ¶æ€ |
|------|------|--------|------|
| TypeScript | [github.com/modelcontextprotocol/typescript-sdk](https://github.com/modelcontextprotocol/typescript-sdk) | Anthropic | æ´»è·ƒ |
| Python | [github.com/modelcontextprotocol/python-sdk](https://github.com/modelcontextprotocol/python-sdk) | Anthropic | æ´»è·ƒ |
| Java | [github.com/modelcontextprotocol/java-sdk](https://github.com/modelcontextprotocol/java-sdk) | Spring AI (VMware) | æ´»è·ƒ |
| Kotlin | [github.com/modelcontextprotocol/kotlin-sdk](https://github.com/modelcontextprotocol/kotlin-sdk) | JetBrains | æ´»è·ƒ |
| C# | [github.com/modelcontextprotocol/csharp-sdk](https://github.com/modelcontextprotocol/csharp-sdk) | Microsoft | æ´»è·ƒï¼ˆé¢„è§ˆç‰ˆï¼‰ |
| Swift | [github.com/modelcontextprotocol/swift-sdk](https://github.com/modelcontextprotocol/swift-sdk) | loopwork-ai | æ´»è·ƒ |
| Rust | [github.com/modelcontextprotocol/rust-sdk](https://github.com/modelcontextprotocol/rust-sdk) | Anthropic/ç¤¾åŒº | æ´»è·ƒ |
| Dart | [https://github.com/leehack/mcp_dart](https://github.com/leehack/mcp_dart) | Flutter ç¤¾åŒº | æ´»è·ƒ |

è¿™äº› SDK æä¾›ç‰¹å®šäºè¯­è¨€çš„æŠ½è±¡ï¼Œç®€åŒ–äº† MCP åè®®çš„ä½¿ç”¨ï¼Œè®©æ‚¨ä¸“æ³¨äºå®ç°æœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯çš„æ ¸å¿ƒé€»è¾‘ï¼Œè€Œä¸æ˜¯å¤„ç†ä½çº§åè®®ç»†èŠ‚ã€‚

## ä¸‹ä¸€æ­¥

æˆ‘ä»¬åªæ˜¯è§¦åŠäº† MCP åŠŸèƒ½çš„è¡¨é¢ï¼Œä½†æ‚¨å·²ç»æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„æœåŠ¡å™¨åœ¨è¿è¡Œã€‚å®é™…ä¸Šï¼Œæ‚¨ä¹Ÿå·²ç»ä½¿ç”¨æµè§ˆå™¨ä¸­çš„ MCP å®¢æˆ·ç«¯è¿æ¥åˆ°äº†å®ƒã€‚

åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•ä» LLM è¿æ¥åˆ°æ‚¨çš„æœåŠ¡å™¨ã€‚